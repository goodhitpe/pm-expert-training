# Week 15: 클라우드 컴퓨팅 기초 상세 강의 자료

## 📚 학습 목표 (상세)
1. **클라우드 컴퓨팅 기본 개념** 이해 (IaaS, PaaS, SaaS)
2. **3대 클라우드 플랫폼** 비교 (AWS, Azure, GCP)
3. **AWS Free Tier** 활용 및 주요 서비스 실습
4. **FinOps 기초** - 클라우드 비용 최적화
5. **PM 관점의 클라우드 아키텍처** 검토
6. **클라우드 마이그레이션** 전략 이해

---

## ☁️ Part 1: 클라우드 컴퓨팅 기초

### 1.1 클라우드란?

#### 전통적 IT vs 클라우드

**전통적 IT (온프레미스)**:
```
문제점:
❌ 초기 투자 비용 높음 (서버, 네트워크 장비)
❌ 용량 예측 어려움 (과다 또는 부족)
❌ 유지보수 부담 (하드웨어, OS, 보안)
❌ 확장에 시간 소요 (주문 → 설치 → 설정)
❌ 재해 복구 비용 높음
```

**클라우드**:
```
장점:
✅ 사용한 만큼만 비용 지불
✅ 필요시 즉시 확장/축소
✅ 유지보수 부담 감소
✅ 전세계 어디서나 접근
✅ 높은 가용성 및 복구력
```

### 1.2 클라우드 서비스 모델

#### 서비스 계층

```
SaaS (Software as a Service)
예: Gmail, Office 365, Salesforce
→ 소프트웨어를 서비스로 사용
   PM이 관리: 없음 (모두 제공자가 관리)

PaaS (Platform as a Service)
예: Heroku, Google App Engine
→ 플랫폼(개발 환경)을 제공
   PM이 관리: 애플리케이션, 데이터

IaaS (Infrastructure as a Service)
예: AWS EC2, Azure VM
→ 인프라(서버, 네트워크)를 제공
   PM이 관리: OS, 미들웨어, 애플리케이션
```

**비유**:
```
Pizza as a Service

온프레미스 (집에서 피자 만들기):
- 재료 구매, 만들기, 청소 모두 직접

IaaS (피자 반죽만 제공):
- 토핑, 굽기, 서빙 직접

PaaS (피자 반죽 + 오븐 제공):
- 토핑만 선택

SaaS (완성된 피자 배달):
- 먹기만 하면 됨
```

### 1.3 클라우드 배포 모델

**퍼블릭 클라우드 (Public Cloud)**:
```
특징:
- 누구나 사용 가능
- 비용 효율적
- 확장성 높음

예: AWS, Azure, GCP

적합:
- 스타트업
- 웹 서비스
- 개발/테스트 환경
```

**프라이빗 클라우드 (Private Cloud)**:
```
특징:
- 조직 전용
- 보안 강화
- 통제력 높음

예: VMware, OpenStack

적합:
- 금융, 의료 등 규제 산업
- 민감한 데이터 처리
```

**하이브리드 클라우드 (Hybrid Cloud)**:
```
특징:
- 퍼블릭 + 프라이빗 혼합
- 유연성 극대화

예: 
- 프라이빗: 핵심 데이터
- 퍼블릭: 웹 서비스

적합:
- 대기업
- 규제 준수 + 확장성 필요
```

---

## 🌐 Part 2: 3대 클라우드 플랫폼

### 2.1 AWS (Amazon Web Services)

#### 개요
```
시장 점유율: 약 32% (1위)
강점: 가장 많은 서비스, 성숙한 생태계
약점: 복잡한 가격 체계
```

#### 주요 서비스

**컴퓨팅**:
- **EC2** (Elastic Compute Cloud): 가상 서버
- **Lambda**: 서버리스 함수
- **ECS/EKS**: 컨테이너 관리

**스토리지**:
- **S3** (Simple Storage Service): 객체 스토리지
- **EBS**: 블록 스토리지
- **Glacier**: 아카이브 스토리지 (저렴)

**데이터베이스**:
- **RDS**: 관계형 DB 관리
- **DynamoDB**: NoSQL DB
- **Aurora**: 고성능 MySQL/PostgreSQL

**네트워킹**:
- **VPC**: 가상 네트워크
- **CloudFront**: CDN
- **Route 53**: DNS 서비스

### 2.2 Azure (Microsoft Azure)

#### 개요
```
시장 점유율: 약 23% (2위)
강점: Microsoft 제품 통합, 엔터프라이즈 친화적
약점: AWS보다 서비스 적음
```

#### 주요 서비스

**컴퓨팅**:
- **Virtual Machines**: 가상 서버
- **App Service**: 웹 앱 호스팅
- **Azure Functions**: 서버리스

**스토리지**:
- **Blob Storage**: 객체 스토리지
- **Azure Files**: 파일 공유

**데이터베이스**:
- **SQL Database**: 관계형 DB
- **Cosmos DB**: NoSQL DB

**통합**:
- **Active Directory**: 인증/권한
- **Office 365**: 생산성 도구

### 2.3 GCP (Google Cloud Platform)

#### 개요
```
시장 점유율: 약 10% (3위)
강점: AI/ML, 빅데이터 분석, Kubernetes
약점: 엔터프라이즈 생태계 약함
```

#### 주요 서비스

**컴퓨팅**:
- **Compute Engine**: 가상 서버
- **Cloud Functions**: 서버리스
- **GKE** (Kubernetes Engine): 컨테이너

**스토리지**:
- **Cloud Storage**: 객체 스토리지

**데이터베이스**:
- **Cloud SQL**: 관계형 DB
- **Firestore**: NoSQL DB

**AI/ML**:
- **BigQuery**: 빅데이터 분석
- **Vertex AI**: ML 플랫폼
- **TensorFlow**: ML 프레임워크

### 2.4 3사 비교표

| 항목 | AWS | Azure | GCP |
|-----|-----|-------|-----|
| **시장 점유율** | 32% (1위) | 23% (2위) | 10% (3위) |
| **서비스 수** | 200+ | 100+ | 100+ |
| **가격** | 중간 | 높음 | 낮음 |
| **강점** | 가장 많은 서비스 | MS 제품 통합 | AI/ML, K8s |
| **약점** | 복잡함 | 서비스 적음 | 생태계 약함 |
| **적합** | 범용 | 엔터프라이즈 | 데이터 중심 |
| **Free Tier** | 12개월 | 12개월 | 90일 |

### 2.5 선택 가이드

**AWS 선택**:
```
✅ 가장 많은 서비스 필요
✅ 성숙한 생태계 선호
✅ 다양한 리전 필요
✅ 스타트업 (풍부한 자료)
```

**Azure 선택**:
```
✅ Microsoft 제품 사용 중
✅ .NET 개발
✅ 하이브리드 클라우드
✅ 엔터프라이즈 환경
```

**GCP 선택**:
```
✅ AI/ML 프로젝트
✅ 빅데이터 분석
✅ Kubernetes 사용
✅ 비용 절감 중요
```

---

## 🆓 Part 3: AWS Free Tier 실습

### 3.1 AWS 계정 생성

#### 준비물
- 이메일 주소
- 신용카드 (인증용, 무료 범위 내 과금 없음)
- 전화번호

#### 가입 절차
```
1. aws.amazon.com 접속
2. "Create an AWS Account" 클릭
3. 이메일, 비밀번호 입력
4. 연락처 정보 입력
5. 신용카드 정보 입력 (무료 범위 초과 시 청구됨)
6. 신원 확인 (전화 인증)
7. 지원 플랜 선택 (Basic - 무료)
```

⚠️ **주의사항**:
- Free Tier 한도 초과 시 과금됨
- 사용하지 않는 리소스는 즉시 삭제
- Billing Alert 설정 권장

### 3.2 주요 서비스 실습

#### EC2 (가상 서버)

**Free Tier 한도**:
- t2.micro 인스턴스 750시간/월
- Linux 또는 Windows

**실습: 웹 서버 띄우기**:
```
1. EC2 대시보드 → "Launch Instance"
2. AMI 선택: Amazon Linux 2
3. 인스턴스 타입: t2.micro (Free tier eligible)
4. 키 페어 생성 (SSH 접속용)
5. 보안 그룹: HTTP(80), SSH(22) 허용
6. "Launch Instance"
7. 퍼블릭 IP로 접속 확인
```

**비용 절감 팁**:
- 사용하지 않을 때 중지 (Stop)
- 완전히 삭제 (Terminate) 권장

#### S3 (객체 스토리지)

**Free Tier 한도**:
- 5GB 스토리지
- 20,000 GET 요청
- 2,000 PUT 요청

**실습: 정적 웹사이트 호스팅**:
```
1. S3 버킷 생성
   - 버킷 이름: 고유한 이름
   - 리전 선택
   
2. 정적 웹사이트 호스팅 활성화
   - Properties → Static website hosting

3. index.html 업로드

4. 퍼블릭 액세스 설정
   - Bucket Policy 설정

5. 웹사이트 URL로 접속
```

#### RDS (관계형 데이터베이스)

**Free Tier 한도**:
- db.t2.micro 750시간/월
- 20GB 스토리지

**실습: MySQL 데이터베이스 생성**:
```
1. RDS 대시보드 → "Create database"
2. 엔진: MySQL
3. 템플릿: Free tier
4. DB 인스턴스: db.t2.micro
5. 스토리지: 20GB
6. 마스터 사용자 이름/암호 설정
7. 퍼블릭 액세스: Yes (실습용)
8. "Create database"
```

### 3.3 비용 모니터링

#### Billing Alert 설정

```
1. Billing Dashboard → Billing preferences
2. "Receive Free Tier Usage Alerts" 체크
3. 이메일 입력
4. "Save preferences"

CloudWatch로 예산 알림:
1. AWS Budgets → "Create budget"
2. 예산 유형: Cost budget
3. 예산 금액: $10
4. 알림 임계값: 80% ($8)
5. 이메일 알림 설정
```

---

## 💰 Part 4: FinOps (클라우드 비용 최적화)

### 4.1 FinOps란?

**정의**: Financial Operations - 클라우드 재무 관리

**핵심 원칙**:
```
1. 가시성: 비용 투명하게 추적
2. 최적화: 불필요한 비용 제거
3. 협업: 개발/재무/운영 팀 협력
```

### 4.2 비용 절감 전략

#### 1. 적절한 인스턴스 크기 선택

**문제**:
```
과도한 사양:
- t2.large 사용 (CPU 30% 활용)
- 비용: $68/월

적정 사양:
- t2.small 사용 (CPU 60% 활용)
- 비용: $17/월
→ 75% 절감!
```

#### 2. 예약 인스턴스 (Reserved Instances)

**온디맨드 vs 예약**:
```
온디맨드 (On-Demand):
- 시간당 과금
- 유연성 높음
- 비용: $0.10/시간

1년 예약:
- 약 30-40% 할인
- 비용: $0.065/시간

3년 예약:
- 약 50-60% 할인
- 비용: $0.045/시간
```

**언제 사용?**:
- 예측 가능한 워크로드
- 최소 1년 이상 사용 계획

#### 3. 스팟 인스턴스 (Spot Instances)

```
특징:
- 유휴 용량 활용
- 최대 90% 할인
- 언제든 회수 가능 (2분 전 통지)

적합:
- 배치 작업
- 빅데이터 분석
- CI/CD 빌드
```

#### 4. 자동 스케일링

```
문제:
- 트래픽 변동에도 고정 서버 운영
- 피크 타임 기준으로 항상 운영
- 낮은 활용률, 높은 비용

해결:
- Auto Scaling Group 설정
- CPU 70% 이상: 인스턴스 추가
- CPU 30% 이하: 인스턴스 제거
- 비용 절감: 약 40-60%
```

#### 5. 미사용 리소스 정리

**흔한 낭비**:
```
☐ 중지된 EC2 (비용 발생: EBS, Elastic IP)
☐ 오래된 스냅샷
☐ 미사용 Elastic IP
☐ 로그 파일 무제한 보관
☐ 개발/테스트 환경 24시간 운영
```

**정리 전략**:
```
✅ 주말에 개발 환경 자동 중지
✅ 30일 이상 스냅샷 삭제
✅ 로그 보관 기간 설정 (30일)
✅ 미사용 리소스 태깅 및 정리
```

### 4.3 비용 최적화 체크리스트

**월별 점검**:
```
☐ Cost Explorer로 비용 추이 확인
☐ 가장 비용 높은 서비스 TOP 5
☐ 미사용 리소스 확인 및 삭제
☐ 예약 인스턴스 활용률
☐ 예산 대비 실제 지출
```

---

## 🏗️ Part 5: 클라우드 아키텍처

### 5.1 3-Tier 아키텍처

```
[사용자]
   │
   ↓
┌──────────────┐
│ Presentation │  웹 서버 (Nginx, Apache)
│    Tier      │  → EC2 + Auto Scaling
└──────────────┘
   │
   ↓
┌──────────────┐
│  Application │  애플리케이션 서버
│    Tier      │  → EC2 + Load Balancer
└──────────────┘
   │
   ↓
┌──────────────┐
│   Database   │  데이터베이스
│    Tier      │  → RDS (Multi-AZ)
└──────────────┘
```

### 5.2 고가용성 (High Availability)

**Multi-AZ 배포**:
```
Region (서울)
├─ AZ-a (가용 영역 A)
│  ├─ 웹 서버 1
│  └─ DB Primary
│
└─ AZ-c (가용 영역 C)
   ├─ 웹 서버 2
   └─ DB Standby (자동 페일오버)
```

**이점**:
- 한 AZ 장애 시 다른 AZ로 자동 전환
- 가동률 99.99% (연간 52분 다운타임)

### 5.3 PM 체크리스트

**아키텍처 검토**:
```
☐ 단일 장애 지점(SPOF) 없는가?
☐ 데이터 백업 계획이 있는가?
☐ 보안 그룹 설정이 적절한가?
☐ 비용 최적화되었는가?
☐ 확장 계획이 있는가?
```

---

## 💼 6. 실습 과제

### 과제 1: AWS 계정 생성 및 서비스 실습

**과제**:
1. AWS 계정 생성
2. EC2 인스턴스 생성 (t2.micro)
3. S3 버킷 생성 및 파일 업로드
4. Billing Alert 설정

**제출물**:
- 각 단계 스크린샷
- 비용 대시보드 캡처

### 과제 2: 클라우드 비용 분석

**시나리오**: 웹 서비스 운영 비용

**주어진 정보**:
- EC2 t2.medium 2대 (24시간 운영)
- RDS db.t2.small (24시간)
- S3 100GB
- 월 트래픽 1TB

**과제**:
1. 온디맨드 비용 계산
2. 예약 인스턴스 적용 시 비용
3. 비용 절감 방안 3가지 제안

**제출물**:
- 비용 분석 보고서 (2페이지)

### 과제 3: 클라우드 선택

**3가지 시나리오**:
1. AI 스타트업
2. 전통 제조업 (SAP 사용)
3. 게임 회사

**과제**:
각 시나리오에 AWS/Azure/GCP 중 선택 및 이유

**제출물**:
- 선택 근거 (각 1페이지)

---

## 🎯 7. 자가 점검 퀴즈

### 객관식

**1. IaaS의 예시는?**
- A) Gmail
- B) AWS EC2
- C) Salesforce
- D) Office 365

**정답**: B

---

**2. 시장 점유율 1위 클라우드는?**
- A) AWS
- B) Azure
- C) GCP
- D) IBM Cloud

**정답**: A

---

**3. AWS Free Tier EC2 인스턴스 타입은?**
- A) t2.nano
- B) t2.micro
- C) t2.small
- D) t2.medium

**정답**: B

---

**4. 가장 비용 저렴한 EC2 구매 옵션은?**
- A) On-Demand
- B) Reserved (1년)
- C) Spot
- D) Dedicated

**정답**: C

---

**5. Multi-AZ 배포의 주요 목적은?**
- A) 비용 절감
- B) 성능 향상
- C) 고가용성
- D) 보안 강화

**정답**: C

---

### 서술형

**6. IaaS, PaaS, SaaS의 차이를 PM이 관리하는 부분을 중심으로 설명하시오.**

**모범 답안**:
- **IaaS**: OS, 미들웨어, 애플리케이션 모두 관리
- **PaaS**: 애플리케이션과 데이터만 관리
- **SaaS**: 관리할 것 없음, 사용만 함

---

**7. 클라우드 비용을 절감하는 5가지 방법을 나열하시오.**

**모범 답안**:
1. 적절한 인스턴스 크기 선택
2. 예약 인스턴스 활용
3. 자동 스케일링 설정
4. 미사용 리소스 정리
5. 스팟 인스턴스 활용 (배치 작업)

---

**8. AWS, Azure, GCP 중 하나를 선택해야 할 때 고려할 요소 3가지를 설명하시오.**

**모범 답안**:
1. **기존 기술 스택**: MS 제품 사용 → Azure
2. **프로젝트 특성**: AI/ML → GCP, 범용 → AWS
3. **비용**: 제한적 → GCP, 서비스 다양성 → AWS

---

**9. Multi-AZ 배포가 필요한 이유와 비용 대비 이점을 설명하시오.**

**모범 답안**:

**필요성**:
- 가용 영역 장애 대비
- 자동 페일오버
- 99.99% 가동률

**비용 대비 이점**:
- 비용: 약 2배
- 다운타임 비용 절감 (매출 손실 방지)
- 신뢰도 향상 → 고객 만족

---

**10. PM이 클라우드 아키텍처를 검토할 때 확인해야 할 5가지 체크 포인트를 설명하시오.**

**모범 답안**:
1. **고가용성**: Multi-AZ, 로드 밸런서
2. **보안**: 보안 그룹, 암호화
3. **확장성**: Auto Scaling 설정
4. **비용**: 리소스 최적화
5. **백업**: 데이터 백업 및 복구 계획

---

## 📚 8. 핵심 용어 정리

| 한글 | 영문 | 설명 |
|-----|------|------|
| 클라우드 | Cloud Computing | 인터넷을 통한 IT 리소스 제공 |
| 가용 영역 | Availability Zone | 독립된 데이터센터 |
| 리전 | Region | 지리적 위치 |
| 인스턴스 | Instance | 가상 서버 |
| 스냅샷 | Snapshot | 시점 백업 |
| 로드 밸런서 | Load Balancer | 트래픽 분산 |
| 오토 스케일링 | Auto Scaling | 자동 용량 조절 |

---

## 🎓 다음 주 예고

**Week 16: 네트워크 기초**

---

**강의 자료 버전**: 1.0  
**최종 업데이트**: 2026년 1월  
**작성자**: PM Expert Training Team

---

## 🏗️ Part 7: AWS 아키텍처 패턴 (고급)

### 7.1 3-Tier 아키텍처

#### 개념
전통적인 웹 애플리케이션 아키텍처를 클라우드에 구현

```
[사용자]
    ↓
┌─────────────────────────────────────┐
│  Presentation Tier (프레젠테이션)   │
│  - ELB (Elastic Load Balancer)     │
│  - CloudFront (CDN)                │
└─────────────────────────────────────┘
    ↓
┌─────────────────────────────────────┐
│  Application Tier (애플리케이션)     │
│  - EC2 instances (Auto Scaling)    │
│  - Lambda functions                │
└─────────────────────────────────────┘
    ↓
┌─────────────────────────────────────┐
│  Data Tier (데이터)                 │
│  - RDS (관계형 DB)                  │
│  - DynamoDB (NoSQL)                │
│  - S3 (파일 저장소)                 │
└─────────────────────────────────────┘
```

#### PM 체크 포인트
- **확장성**: 각 계층이 독립적으로 확장 가능한가?
- **보안**: 각 계층 간 보안 그룹이 적절히 설정되었는가?
- **비용**: 사용하지 않는 리소스는 자동으로 축소되는가?
- **모니터링**: CloudWatch로 각 계층을 모니터링하는가?

### 7.2 Microservices 아키텍처

#### 개념
대규모 애플리케이션을 작은 서비스로 분할

**Monolith vs Microservices**:

```
Monolith (모노리틱):
┌───────────────────┐
│                   │
│  하나의 큰 앱      │
│  - User Service   │
│  - Order Service  │
│  - Payment Service│
│                   │
└───────────────────┘
문제: 한 부분 수정 시 전체 재배포 필요

Microservices:
┌──────┐  ┌──────┐  ┌──────┐
│ User │  │Order │  │Payment│
│Service│  │Service│  │Service│
└──────┘  └──────┘  └──────┘
장점: 독립적 배포, 확장, 기술 선택
```

#### AWS 구현
- **ECS (Elastic Container Service)**: Docker 컨테이너 실행
- **EKS (Elastic Kubernetes Service)**: Kubernetes 관리
- **API Gateway**: 서비스 간 통신 관리
- **Service Mesh**: 서비스 디스커버리, 로드 밸런싱

#### PM 관점에서의 고려사항
**장점**:
- ✅ 팀별 독립 개발 가능 (속도 향상)
- ✅ 부분 장애 격리 (전체 시스템 다운 방지)
- ✅ 기술 스택 자유롭게 선택
- ✅ 서비스별 독립 확장

**단점/도전과제**:
- ❌ 복잡도 증가 (모니터링, 디버깅 어려움)
- ❌ 네트워크 지연 (서비스 간 통신)
- ❌ 데이터 일관성 관리 필요
- ❌ 초기 투자 비용 높음

**언제 사용?**:
- 팀 규모: 10명 이상
- 서비스 복잡도: 높음
- 독립 배포 필요: 자주
- 확장 요구: 서비스마다 다름

### 7.3 Serverless 아키텍처

#### 개념
서버 관리 없이 코드만 배포

```
전통적 방식:
1. EC2 인스턴스 생성
2. OS 설치 및 설정
3. 애플리케이션 배포
4. 모니터링 및 유지보수
→ 복잡하고 시간 소요

Serverless:
1. 코드 작성
2. Lambda에 업로드
3. 트리거 설정 (API, S3 등)
→ 간단하고 빠름
```

#### 주요 AWS Serverless 서비스
- **Lambda**: 함수 실행
- **API Gateway**: REST API 생성
- **DynamoDB**: NoSQL 데이터베이스
- **S3**: 정적 파일 호스팅
- **CloudFront**: CDN

#### 실제 예제: 이미지 썸네일 생성

```
[사용자] 
    → 이미지 업로드 
    → [S3 버킷]
         ↓ (트리거)
    [Lambda 함수]
         - 이미지 다운로드
         - 썸네일 생성
         - 썸네일 업로드
         ↓
    [S3 버킷 (썸네일)]
```

**비용 예시**:
- Lambda 실행 시간: 100ms
- 월 100만 요청
- **비용: 약 $0.20/월** (거의 무료!)

**EC2와 비교**:
- t3.micro 인스턴스: $7.50/월
- 사용하지 않을 때도 비용 발생

#### PM이 알아야 할 Serverless 제약사항
- **실행 시간 제한**: 최대 15분
- **콜드 스타트**: 첫 실행 시 지연 (1-2초)
- **상태 저장 불가**: Stateless만 가능
- **디버깅 어려움**: 로컬 테스트 제한적

**적합한 사용 사례**:
- ✅ 이벤트 기반 처리 (파일 업로드, 데이터 변환)
- ✅ 간헐적 작업 (일일 리포트, 주간 분석)
- ✅ API 백엔드 (간단한 CRUD)
- ✅ 실시간 데이터 처리 (로그, 스트림)

**부적합한 사용 사례**:
- ❌ 장시간 실행 작업 (15분 이상)
- ❌ 상태 유지 필요 (WebSocket 연결)
- ❌ 예측 가능한 지속적 부하 (EC2가 더 저렴)

### 7.4 High Availability (고가용성) 설계

#### 개념
시스템이 거의 항상 사용 가능하도록 설계

**가용성 계산**:
```
가용성 = (전체 시간 - 다운타임) / 전체 시간 × 100%

99.9% (Three Nines)
- 연간 다운타임: 8.76시간
- 월간: 43.8분

99.99% (Four Nines)
- 연간 다운타임: 52.6분
- 월간: 4.38분

99.999% (Five Nines)
- 연간 다운타임: 5.26분
- 월간: 26.3초
```

#### 고가용성 달성 전략

**1. Multi-AZ 배포**
```
Region: 서울
├─ AZ-A: ap-northeast-2a
│   └─ EC2 instance 1
├─ AZ-B: ap-northeast-2b
│   └─ EC2 instance 2 (백업)
└─ AZ-C: ap-northeast-2c
    └─ EC2 instance 3 (백업)

하나의 AZ가 다운되어도 다른 AZ에서 서비스 계속
```

**2. 로드 밸런서 사용**
```
[ELB]
 ├─→ EC2-1 (AZ-A) ✅ Healthy
 ├─→ EC2-2 (AZ-B) ✅ Healthy
 └─→ EC2-3 (AZ-C) ❌ Unhealthy

Health Check 실패 시 자동으로 트래픽 차단
```

**3. Auto Scaling**
```
정책 설정:
- 최소: 2대 (항상 실행)
- 최대: 10대
- 목표: CPU 70%

트래픽 증가 → CPU 80% → 자동으로 인스턴스 추가
트래픽 감소 → CPU 50% → 자동으로 인스턴스 제거
```

**4. 데이터베이스 복제**
```
RDS Multi-AZ:
[Master DB - AZ-A]
     ↓ (동기 복제)
[Standby DB - AZ-B]

Master 장애 시 자동으로 Standby가 Master로 승격
(약 1-2분 소요)
```

#### 비용 vs 가용성 균형

| 가용성 | 구성 | 월 비용 (예시) | 적합한 서비스 |
|--------|------|----------------|---------------|
| 99% | Single AZ, 1 instance | $50 | 내부 도구, 개발 환경 |
| 99.9% | Multi-AZ, 2 instances | $150 | 일반 웹 서비스 |
| 99.99% | Multi-AZ, 3+ instances, Load Balancer | $500 | 전자상거래, 금융 |
| 99.999% | Multi-Region, 복잡한 페일오버 | $2,000+ | 핵심 서비스, 대기업 |

#### PM 의사결정 가이드

**질문 1**: 1시간 다운타임의 비용은?
- 매출 손실: ?
- 고객 이탈: ?
- 브랜드 이미지: ?

**질문 2**: 현재 가용성은?
- 지난 6개월 다운타임: ?
- 목표 가용성: ?

**질문 3**: 비용 대비 효과는?
```
예시:
- 현재: 99% (연간 88시간 다운)
- 개선: 99.9% (연간 9시간 다운)
- 추가 비용: $100/월 = $1,200/년
- 1시간 다운타임 비용: $500
- 절약: (88-9) × $500 = $39,500
- ROI: 3,292% 👍
```

---

## 🐳 Part 8: 컨테이너 & 오케스트레이션 (고급)

### 8.1 Docker 기초

#### 컨테이너란?

**VM vs Container**:
```
Virtual Machine:
┌───────────────────┐
│  App A            │
│  Binaries/Libs    │
│  Guest OS (3GB)   │ ← 무거움
├───────────────────┤
│  Hypervisor       │
├───────────────────┤
│  Host OS          │
│  Hardware         │
└───────────────────┘
시작 시간: 1-2분

Container:
┌───────────────────┐
│  App A            │
│  Binaries/Libs    │ ← 가벼움
├───────────────────┤
│  Docker Engine    │
├───────────────────┤
│  Host OS          │
│  Hardware         │
└───────────────────┘
시작 시간: 1-2초
```

#### PM이 알아야 할 Docker 개념

**1. 이미지 (Image)**
- 애플리케이션 + 의존성 패키지
- 읽기 전용 템플릿
- Docker Hub에서 다운로드 또는 직접 생성

**2. 컨테이너 (Container)**
- 이미지를 실행한 인스턴스
- 격리된 프로세스
- 여러 컨테이너가 동일한 이미지에서 실행 가능

**3. Docker Hub**
- 이미지 저장소
- 공개/비공개 이미지
- 예: nginx, mysql, node 등

#### 실습 예제

**Dockerfile**:
```dockerfile
# 베이스 이미지
FROM node:18

# 작업 디렉토리
WORKDIR /app

# 의존성 복사 및 설치
COPY package.json .
RUN npm install

# 애플리케이션 코드 복사
COPY . .

# 포트 노출
EXPOSE 3000

# 실행 명령
CMD ["npm", "start"]
```

**빌드 및 실행**:
```bash
# 이미지 빌드
docker build -t myapp:1.0 .

# 컨테이너 실행
docker run -p 3000:3000 myapp:1.0

# 실행 중인 컨테이너 확인
docker ps

# 컨테이너 중지
docker stop <container_id>
```

#### PM 관점에서의 Docker 이점

**1. 개발 환경 일관성**
```
문제: "내 컴퓨터에서는 되는데..." 😰

해결: Docker 사용
- 모든 팀원이 동일한 환경
- 신입도 5분 만에 개발 환경 구축
- 버전 충돌 없음
```

**2. 배포 간소화**
```
전통적 방식:
1. 서버 준비
2. 언어 런타임 설치 (Node, Python 등)
3. 라이브러리 설치
4. 환경 변수 설정
5. 애플리케이션 복사
6. 서비스 시작
→ 1-2시간 소요, 실수 가능성 높음

Docker:
1. docker run myapp:1.0
→ 1분 소요, 실수 없음
```

**3. 확장성**
```
트래픽 증가 시:
docker run myapp:1.0  (인스턴스 1)
docker run myapp:1.0  (인스턴스 2)
docker run myapp:1.0  (인스턴스 3)
→ 동일한 환경, 즉시 확장
```

#### AWS에서 Docker 실행

**ECS (Elastic Container Service)**:
```
1. Docker 이미지 생성
2. ECR (Elastic Container Registry)에 업로드
3. ECS Task 정의
4. ECS Service 생성
5. 자동 배포 및 스케일링
```

**비용 예시**:
- Fargate (서버리스): 약 $30/월
- EC2 기반 ECS: 약 $15/월
- 관리 부담: Fargate가 적음

### 8.2 Kubernetes 기초

#### Kubernetes란?

**정의**: 컨테이너 오케스트레이션 플랫폼

**왜 필요한가?**:
```
Docker만 사용할 때:
- 10개 컨테이너를 수동으로 관리
- 하나 죽으면 수동으로 재시작
- 로드 밸런싱 직접 설정
- 업데이트 시 다운타임 발생
→ 복잡하고 오류 발생

Kubernetes 사용:
- 원하는 상태 선언 (10개 컨테이너)
- 자동으로 관리 및 복구
- 자동 로드 밸런싱
- 무중단 배포
→ 간단하고 안정적
```

#### 주요 개념 (PM 필수)

**1. Pod (파드)**
- 컨테이너를 감싸는 가장 작은 단위
- 보통 1 Pod = 1 Container
- 같은 Pod 내 컨테이너는 네트워크 공유

**2. Deployment (배포)**
- Pod를 관리하는 상위 객체
- 복제본 수 지정
- 롤링 업데이트

```yaml
# deployment 예시
apiVersion: apps/v1
kind: Deployment
metadata:
  name: myapp
spec:
  replicas: 3  # 3개의 Pod 유지
  template:
    spec:
      containers:
      - name: myapp
        image: myapp:1.0
```

**3. Service (서비스)**
- Pod에 안정적인 네트워크 엔드포인트 제공
- 로드 밸런싱

**4. Ingress (인그레스)**
- 외부에서 서비스에 접근하는 규칙
- 도메인 기반 라우팅

#### Kubernetes의 자동 복구

```
원하는 상태: 3개의 Pod

[Pod 1] [Pod 2] [Pod 3]  ← 정상

[Pod 1] [Pod 2] ❌       ← Pod 3 죽음
         ↓
[Pod 1] [Pod 2] [Pod 4]  ← 자동으로 새 Pod 생성

사람이 할 일: 없음 (자동)
```

#### EKS (Elastic Kubernetes Service)

**AWS 관리형 Kubernetes**:

**장점**:
- ✅ 컨트롤 플레인 AWS가 관리
- ✅ 자동 업그레이드
- ✅ 고가용성 기본 제공
- ✅ IAM 통합

**비용**:
- EKS 클러스터: $73/월
- Worker Node (EC2): $30-100/월 (크기에 따라)
- 총: $100-200/월

**언제 사용?**:
- 서비스 10개 이상
- 복잡한 마이크로서비스
- 멀티 클라우드 고려
- Kubernetes 경험 있는 팀

**대안**:
- ECS: 더 간단, AWS에 종속
- Lambda: 서버리스, 간단한 작업

#### PM 의사결정 가이드

**Kubernetes 도입 체크리스트**:
- [ ] 팀에 Kubernetes 경험자 있는가?
- [ ] 마이크로서비스 10개 이상인가?
- [ ] 복잡한 배포 전략 필요한가?
- [ ] 멀티 클라우드 고려 중인가?
- [ ] 월 $200 이상 투자 가능한가?

**5개 중 3개 이상 Yes → Kubernetes 고려**
**2개 이하 Yes → ECS나 Lambda 사용**

---

## 📊 Part 9: 실전 아키텍처 사례 연구

### 9.1 스타트업: 간단한 웹 서비스

**요구사항**:
- 사용자: 1만명
- 트래픽: 안정적
- 예산: 월 $100
- 팀: 개발자 2명

**추천 아키텍처**:
```
[Route 53] → [CloudFront]
                  ↓
            [S3 (정적 파일)]
            [Lambda + API Gateway]
                  ↓
            [DynamoDB]
```

**비용 예상**:
- Route 53: $0.50
- CloudFront: $10
- S3: $5
- Lambda: $10
- DynamoDB: $25
- **총: $50/월**

**장점**:
- 서버리스 (관리 부담 없음)
- 자동 확장
- 높은 가용성

### 9.2 성장하는 서비스: E-commerce

**요구사항**:
- 사용자: 10만명
- 트래픽: 변동 큼 (프로모션 시 10배)
- 예산: 월 $1,000
- 팀: 개발자 5명

**추천 아키텍처**:
```
[CloudFront] → [ELB]
                ↓
           [EC2 Auto Scaling]
           (3-10 instances)
                ↓
           [RDS (Multi-AZ)]
           [ElastiCache (Redis)]
```

**비용 예상**:
- CloudFront: $50
- ELB: $20
- EC2: $300 (평균 5대)
- RDS: $200
- ElastiCache: $50
- S3: $30
- **총: $650/월**

### 9.3 대기업: 복잡한 마이크로서비스

**요구사항**:
- 사용자: 100만명
- 트래픽: 매우 높음
- 예산: 월 $10,000
- 팀: 개발자 30명

**추천 아키텍처**:
```
[Route 53] → [CloudFront]
                  ↓
            [API Gateway]
                  ↓
            [EKS Cluster]
            (50+ microservices)
                  ↓
[RDS Aurora] [DynamoDB] [ElastiCache] [S3]
```

**비용 예상**:
- CloudFront: $500
- API Gateway: $300
- EKS: $2,000
- RDS Aurora: $2,500
- DynamoDB: $1,500
- ElastiCache: $800
- S3: $400
- Backup: $500
- **총: $8,500/월**

---

## 🎯 Part 10: PM을 위한 클라우드 체크리스트

### 프로젝트 시작 시

**아키텍처 검토**:
- [ ] 예상 사용자 수는? (현재/6개월 후/1년 후)
- [ ] 트래픽 패턴은? (일정/변동/급증)
- [ ] 가용성 목표는? (99%/99.9%/99.99%)
- [ ] 예산은? (월/연간)
- [ ] 데이터 민감도는? (공개/내부/기밀)
- [ ] 규제 요구사항은? (GDPR, HIPAA 등)
- [ ] 백업/복구 정책은?

**팀 준비도**:
- [ ] 클라우드 경험자 있는가?
- [ ] DevOps/SRE 인력 있는가?
- [ ] 24/7 모니터링 가능한가?
- [ ] 온콜 시스템 있는가?

**비용 관리**:
- [ ] 비용 알림 설정했는가? ($10, $50, $100)
- [ ] 태그 전략 수립했는가? (팀/프로젝트/환경)
- [ ] Reserved Instance 고려했는가? (장기 실행)
- [ ] 주기적 리소스 검토 계획 있는가?

### 매월 검토 사항

**비용**:
- [ ] 예산 대비 실제 비용은?
- [ ] 사용하지 않는 리소스는?
- [ ] 최적화 기회는? (Reserved, Spot)

**성능**:
- [ ] 응답 시간은? (목표: <300ms)
- [ ] 에러율은? (목표: <0.1%)
- [ ] 가용성은? (목표: 99.9%+)

**보안**:
- [ ] 보안 그룹 규칙 최신인가?
- [ ] IAM 권한 적절한가?
- [ ] 패치 적용되었는가?
- [ ] 백업 작동하는가?

---

## 🚀 다음 단계

**Week 16 예고: 네트워크 기초**
- IP 주소와 서브넷
- REST API 설계
- 네트워크 보안
- API 문서화 (Swagger)

**Week 15 복습 포인트**:
1. 클라우드 서비스 모델 (IaaS, PaaS, SaaS)
2. AWS 주요 서비스 (EC2, S3, RDS, Lambda)
3. 아키텍처 패턴 (3-Tier, Microservices, Serverless)
4. Docker와 Kubernetes 기본
5. 비용 최적화 전략

**실습 과제**:
- AWS Free Tier 가이드 참고
- 간단한 Lambda 함수 만들기
- EC2 인스턴스 생성 및 웹 서버 실습

---

**강의 자료 버전**: 2.0  
**최종 업데이트**: 2026년 2월  
**작성자**: PM Expert Training Team  
**변경 사항**: AWS 아키텍처 패턴, Docker/Kubernetes 섹션 추가 (고급 콘텐츠 +10KB)
